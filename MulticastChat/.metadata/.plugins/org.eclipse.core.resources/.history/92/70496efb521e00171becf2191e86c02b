package MulticastSocket;

import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.InetAddress;

public class PrivateServer {
	
	private static DatagramSocket s;
	public static String host = "127.0.0.1";
	public static int portc2 = 10001;
	public static int portc1 = 10000;
	public static int port;
	
	public static void InitPrivateService ( ) {
		
		try {
			port = 9709;
			s = new DatagramSocket ( port );
			for ( ; ; ) {
				DatagramPacket p = new DatagramPacket ( new byte [ 1500 ], 1500 );
				s.receive ( p );
				String msg = new String ( p.getData ( ), 0, p.getLength ( ) );
				byte [ ] b = msg.getBytes ( );
				DatagramPacket p1 = new DatagramPacket ( b, b.length, InetAddress.getByName ( host ), portc1 );
				s.send ( p1 );
				DatagramPacket p2 = new DatagramPacket ( b, b.length, InetAddress.getByName ( host ), portc2 );
				s.send ( p2 );
			} // End forever.
		} catch ( Exception e ) {
			e.printStackTrace ( );
		} // End try - catch.
		
	} // End InitPrivateService.

}
